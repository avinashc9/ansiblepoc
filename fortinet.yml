---
- hosts: all
  gather_facts: no
  connection: local



  tasks:

     - debug: var=Fortimgr_user
     - debug: var=Fortimgr_pass


    # - name: 
    #   fortios_config:
    #     host: 10.52.29.7
    #     username: etomb
     
     - name: CREATE SCRIPT
       fmgr_script:
         host: "{{inventory_hostname}}"
         username: "{{ Fortimgr_user }}"
         password: "{{ Fortimgr_pass }}"
         adom: "root"
         script_name: "TestScript"
         script_type: "cli"
         script_target: "remote_device"
         script_description: "Create by Ansible"
         script_content: "get system status"
            
    # - name: EXECUTE SCRIPT
    #   fmgr_script:
    #     host: "{{inventory_hostname}}"
    #     username: "{{ username }}"
    #     password: "{{ password }}"
    #     adom: "root"
    #     script_name: "TestScript"
    #     state: "execute"
    #     script_scope: "FGT1,FGT2"
    

         

